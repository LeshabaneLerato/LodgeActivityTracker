@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using LodgeActivityTracker.Helpers

@{
    ViewData["Title"] = "Home";

    // Get full URL of the current page
    string currentUrl = $"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}";

    // Generate QR code as Base64 string
    string qrCodeImage = QRCodeHelper.GenerateQRCodeBase64(currentUrl);
}

<h2>Home Page</h2>

@if (!string.IsNullOrEmpty(qrCodeImage))
{
    <img src="@qrCodeImage" alt="QR Code" style="width:150px; height:150px;" />
}
else
{
    <p>QR code could not be generated.</p>
}
